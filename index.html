<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>مولّد الفواتير</title>
<style>
  body { font-family: Arial; display: flex; background: #f5f6fa; }
  .form-section, .preview-section { width: 50%; padding: 20px; }
  .form-section { background: #fff; border-radius: 10px; margin: 15px; }
  .preview-section { background: #f9f9f9; border-radius: 10px; margin: 15px;}
  input, textarea { width: 100%; margin: 10px 0; padding: 8px; }
  .invoice { background: #fff; padding: 20px; border-radius: 10px; }
</style>
</head>
<body>
  <div class="form-section">
    <h3>معلومات الشركة</h3>
    <input id="companyName" type="text" placeholder="اسم الشركة" oninput="updatePreview()">
    <input id="companyAddress" type="text" placeholder="عنوان الشركة" oninput="updatePreview()">
    <input id="companyEmail" type="email" placeholder="الإيميل" oninput="updatePreview()">
    <input id="companyPhone" type="text" placeholder="الهاتف" oninput="updatePreview()">
    <hr>
    <h3>معلومات العميل</h3>
    <input id="clientName" type="text" placeholder="اسم العميل" oninput="updatePreview()">
    <input id="clientAddress" type="text" placeholder="عنوان العميل" oninput="updatePreview()">
    <hr>
    <h3>تفاصيل الفاتورة</h3>
    <input id="desc" type="text" placeholder="وصف البند" oninput="updatePreview()">
    <input id="qty" type="number" placeholder="الكمية" value="1" oninput="updatePreview()">
    <input id="price" type="number" placeholder="السعر" value="0" oninput="updatePreview()">
  </div>
  <div class="preview-section">
    <div class="invoice" id="invoicePreview">
      <!-- ستظهر هنا معاينة الفاتورة تلقائياً -->
    </div>
  </div>
<script>
  function updatePreview() {
    const companyName = document.getElementById('companyName').value;
    const companyAddress = document.getElementById('companyAddress').value;
    const companyEmail = document.getElementById('companyEmail').value;
    const companyPhone = document.getElementById('companyPhone').value;
    const clientName = document.getElementById('clientName').value;
    const clientAddress = document.getElementById('clientAddress').value;
    const desc = document.getElementById('desc').value;
    const qty = +document.getElementById('qty').value || 1;
    const price = +document.getElementById('price').value || 0;
    const total = qty * price;

    document.getElementById('invoicePreview').innerHTML = `
      <h2>فاتورة</h2>
      <p><b>من:</b> ${companyName}<br>${companyAddress}<br>${companyEmail} | ${companyPhone}</p>
      <p><b>إلى:</b> ${clientName}<br>${clientAddress}</p>
      <table width="100%" border="1" style="border-collapse:collapse; margin:10px 0;">
        <tr><th>الوصف</th><th>الكمية</th><th>السعر</th><th>المجموع</th></tr>
        <tr><td>${desc}</td><td>${qty}</td><td>${price}</td><td>${total}</td></tr>
      </table>
      <h3>الإجمالي: ${total} ريال</h3>
    `;
  }
  updatePreview(); // للمعاينة الأولية
</script>
</body>
</html>
